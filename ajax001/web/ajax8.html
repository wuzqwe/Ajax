<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试AJAx乱码问题</title>
    <script type="text/javascript">
        window.onload=function (){
            document.getElementById("btn1").onclick=function (){
                var xhr=new XMLHttpRequest()
                xhr.onreadystatechange=function (){
                    if (this.readyState==4){
                        if (this.status==200){
                            document.getElementById("mydiv").innerHTML=this.responseText
                        }else {
                            alert(this.status)
                        }
                    }
                }
                var username = document.getElementById("username").value
                xhr.open("GET","/ajax/ajaxrequest8?username="+username+"",true)
                xhr.send()
            }
            document.getElementById("btn2").onclick=function (){
                var xhr=new XMLHttpRequest()
                xhr.onreadystatechange=function (){
                    if (this.readyState==4){
                        if (this.status==200){
                            document.getElementById("mydiv").innerHTML=this.responseText
                        }else {
                            alert(this.status)
                        }
                    }
                }
                var username = document.getElementById("username").value
                xhr.open("POST","/ajax/ajaxrequest8",true)
                xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded")
                xhr.send("username="+username+"")
            }
        }
    </script>
</head>
<body>
<input type="text" id="username">
<button id="btn1">发送ajax get请求，测试乱码问题</button>
<button id="btn2">发送ajax post请求，测试乱码问题</button>
<!--<form enctype="application/x-www-form-urlencoded"></form>-->
<div id="mydiv"></div>
</body>
</html>